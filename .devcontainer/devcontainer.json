{
    // "image": "mcr.microsoft.com/devcontainers/universal:linux",
    "onCreateCommand": ["bash", ".devcontainer/onCreateCommand.sh"],
    // "postStartCommand": "docker-compose up -d",
    "forwardPorts": [3000],
    "dockerComposeFile": "../docker-compose.yml",
    "service": "rails",
    "portsAttributes": {
        "3000": {
          "label": "Rails server",
          "onAutoForward": "openBrowserOnce",
          "protocol": "http"
        }
    },
    // "postAttachCommand": {
        // "rails server": "rails server",
        // "postgis": "docker-compose logs -f pg",
        // "memached": "docker-compose logs -f memcached",
        // "redis": "docker-compose logs -f redis",
        // "elasticsearch": "docker-compose logs -f es"
    // },
    // "features": {
        // "ghcr.io/devcontainers/features/docker-in-docker:2": {}
    // },
    "containerEnv": {
        "ROOT_URL": "${containerEnv:CODESPACE_NAME}-3000.${containerEnv:GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}"
    },
    "hostRequirements": {
        "memory": "8gb"
    }
}
